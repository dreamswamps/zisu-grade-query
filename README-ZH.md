# ZISU GPA自动查询统计脚本

> 一个基于Python的自动化工具，针对浙江外国语学院教务系统，用于查询和统计学业成绩及GPA和综测成绩。

## ✨ 功能描述

### [√] 已完成功能
- **数据抓取** 抓取并解析指定学年的成绩数据
- **统计计算** 统计必修/选修课程的学分、绩点，计算学年GPA
- **结果展示** 在终端输出统计报告

### [ ] 规划中功能
- **会话自动管理** ：自动获取/刷新教务系统会话信息和用户认证(Cookie/Headers)

## 🚀 快速开始

### 环境要求

- Python 3.8+
- 依赖库：`requests`

### 安装与运行

1. 克隆项目：
    ```bash
    git clone https://github.com/dreamswamps/zisu-grade-query.git
    cd zisu-grade-query
    ```

2. 安装依赖：
    ```bash
    pip install requests
    ```

3. 配置信息：
    运行前，请根据下方 **[使用说明](#configuration)** 配置参数。

4. 运行脚本：
    ```bash
    python ZISU.py
    ```

## 📖 使用说明 <a id="configuration"></a>

1. 信息配置：
    对选择的脚本手动配置身份验证信息：
    - **ZISU.py** :
        ```python
        gnmkdm = "查询编号字段"  # 来自网址路径
        cookie = "用户认证"
        years = ["2022","2023"]
        ```
    - **ZISU_GPA.py** :
        配置项与 `ZISU.py` 类似。
    - **ZISU_ZC.py** :
        ```python
        headers = {
            'Authorization': '',
            'Blade-Auth': ''
            }  # 来自开发者工具的网络请求
        years = ["2022","2023"]
        ```

    >**ℹ️ 提示：**如何获得参数？使用浏览器开发者工具（F12），在登陆后查看访问成绩页面时的网络请求，获取对应的Cookie或Header信息。

2. 保存后运行脚本，等待并查看终端输出的统计结果。

## 📁 项目结构

```
zisu-grade-query/
├── ZISU.py         # 基础脚本：指定学年GPA统计
├── ZISU_GPA.py     # 增强功能：全部课程GPA统计
└── ZISU_ZC.py      # 改进功能：综测分统计
```

## ❓ 常见问题

**Q: 运行脚本后报错，或脚本无反应？**

**A:** 请按照以下步骤进行排查：
1. **认证信息过期**：Cookie或Header信息有约一天的有效期，请尝试重新登陆并获取新的认证信息。
2. **系统维护**：校教务系统可能在每日7:00 - 22:00外的时间进行维护，请在此时间段使用。
3. **网络问题**：请检查网络连接是否正常。
4. **特殊情况**：若正值选课等特殊时期，校教务系统可能因过大请求访问而面临崩溃风险，此情况请绝对不要使用。

---

## 💭 开发日记

> 以下是开发过程中的一些个人想法，与项目无关喵，仅供娱乐o(=•v•=)o

- **第一个README**：这时我写的第一份README文件。花了点时间去学习一些格式和特殊字符。上上下下花了一个半小时。其实蛮有新鲜感的。真的写出来之后，发现其实蛮简单的ovo
- **关于需求出发点**：这些脚本是大三转大四时的暑假，辅导员提到需要提前准备GPA和综测数据，我就去教务系统查信息，当时突然想到，为什么我不能做一个脚本让我能自动查询统计？所以就有了这些脚本。
- **关于逆向工程**：这个脚本的制作过程，算是我第一次正式的对逆向工程的实践。从开发者模式中一堆返回信息中测试出必要信息，也花了不少时间。兴趣支撑住了漫长枯燥的测试过程。

*谢谢你能看到这里喵ovo*